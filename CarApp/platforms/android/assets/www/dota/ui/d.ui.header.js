define(["dInherit","dBaseUI","dValidate"],function(e,t,n){var r=function(){},i='<div class="ui-headerview">            <header class="ui-header-fixed">                <%if(back){%>                <span class="ui-func-icon ui-func-return js-back">                    <i class="ui-icon ui-arrow-l"></i>                </span>                <%}%>                <%if(moreHtml.trim().length){%>                <span class="ui-func-icon ui-func-more js-more"><%=moreHtml%></span>                <%}%>                <h2><%=titleHtml%></h2>            </header>        </div>',s=e(t,{__propertys__:function(){this.tplFunc=_.template(i),this.root,this.inited},initialize:function(e){this.__superInitialize(),e&&(this.root=e)},setOpt:function(e){e=e||{},this.setOptions({titleHtml:e.titleHtml||"",back:!!e.back,moreHtml:e.moreHtml||"",listener:e.listener||{}}),this.onShow=n.isFunction(e.onShow)?e.onShow:undefined,this.onHide=n.isFunction(e.onHide)?e.onHide:undefined,this.attachEvent(),this.inited||(this.root.prepend(this.$el),this.inited=!0)},attachEvent:function(){var e=this.opt,t=e.listener;this.$el.off(),e.back&&this.bindEvent("click",".js-back",t.backHandler||function(){Ancients.back()}),e.moreHtml&&this.bindEvent("click",".js-more",t.moreHandler);for(var n in t)n!=="backHandler"&&n!=="moreHandler"&&t.hasOwnProperty(n)&&this.bindEvent("click",n,t[n])}});return s});