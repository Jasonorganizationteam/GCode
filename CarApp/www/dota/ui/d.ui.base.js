define(["dInherit","dValidate"],function(e,t){var n={prefix:"ui-",getBiggerZindex:function(){var e=3e3;return function(){return++e}}()},r=t.isFunction,i;return i=e({__propertys__:function(){this._id,this.opt,this.tplFunc,this.$el,this.eventQueue=[]},initialize:function(){this._id=n.prefix+(new Date).getTime()},getUniqueId:function(){return this._id},setOptions:function(e){var t=this;this.opt=e||{};try{this.$el=$(this.tplFunc(this.opt)).css({"z-index":n.getBiggerZindex(),display:"none"}),$.each(this.eventQueue,function(e,n){t.bindEvent(n.type,n.selector,n.handler)})}catch(r){this.$el=$()}finally{this.eventQueue=[]}},show:function(){r(this.onShow)&&this.onShow(),this.$el.show()},hide:function(){this.$el.hide(),r(this.onHide)&&this.onHide()},bindEvent:function(e,t,n){arguments.length===2&&(n=t);if(!r(n))return;this.$el?this.$el.on(e,t,n):this.eventQueue.push({type:e,selector:t,handle:$.proxy(n,this)})},destory:function(){this.$el.off(),this.$el.remove(),this.eventQueue=undefined}}),i});